
var __CACHE__={};var PROTOCOLO=URL_APP.search("https")==-1?"http":"https";function getCache(b,a){return(typeof __CACHE__[b]!=="undefined")?__CACHE__[b]:(a||undefined)}function setCache(b,a){__CACHE__[b]=a}function scrollBottom(a,c,d){a=$(a);if(a.length==1){var b=a[0].scrollHeight-a.innerHeight();a.stop().animate({scrollTop:scrollHeight(a)-(c||0)},d||"fast")}else{a.each(function(){scrollEnd(this,d)})}}function scrollHeight(a){a=$(a);return a[0].scrollHeight-a.innerHeight()}function _log(){if(window.console&&window.console.log&&$.isFunction(window.console.log)){$.each(arguments,function(a,b){window.console.log(b)})}}if(typeof $.colorbox!="undefined"&&$.isFunction($.colorbox)){$(document).on("click","a[data-colorbox]",function(){var b=650;var c=$(this).attr("data-colorbox");var d=Math.min(b,$(window).width()-50)/b;var a={title:$(this).attr("title"),href:$(this).attr("href"),maxWidth:$(window).width()-50,maxHeight:$(window).height()-50,};if(c=="video"){a.iframe=true;a.innerWidth=650*d;a.innerHeight=400*d}else{if(c){a.iframe=false;a.rel=c}else{a.photo=true;a.iframe=false}}$.colorbox(a);return false})}if(typeof $().chosen!="undefined"){$("select.chosen").chosen()}function popUp(b,d,a){a=$.extend({channelmode:0,fullscreen:0,height:600,width:400,left:0,top:0,location:0,menubar:0,resizable:0,scrollbars:1,status:0,titlebar:0,toolbar:0,},a);a.width=Math.min(screen.availWidth-100,Math.max(100,a.width));a.height=Math.min(screen.availHeight-100,Math.max(100,a.height));a.left=screen.availWidth*0.5-a.width*0.5;a.top=screen.availHeight*0.5-a.height*0.5;var c="";$.each(a,function(e,f){if(c){c+=", "}c+=e+"="+f});_log(c);window.open(b,d,c)}function url(d,c,b){var a=URL_APP;if(b===undefined){b=MODULE}if(b!=MODULE_DEFAULT){a+="/"+b}if(d){a+="/"+d}else{a+=d="/index/index"}if($.isArray(c)){if(d.split("/").length<2){a+="/index"}$.each(c,function(e,f){a+="/"+f})}return a.toString().replace(/\\/g,"/")}function animated(b,a){b=$(b);b.addClass(a+" animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){b.removeClass("animated "+a)})}function estadosCidades(b,a){b=$(b).first();if(typeof a!="undefined"){a=$(a)}else{if(!b.data("selectCidade")){a=b.parents("form").find("select[name=cidade]").first()}}if(a.length){b.change(function(){if(b.data("ajaxCidades")){b.data("ajaxCidades").abort()}setTimeout(function(){var d=b.val()||0;var e=a.attr("data-setvalue")||0;var c=b.is(":focus");if(d!==0){b.data("ajaxCidades",$.ajax({type:"POST",data:{cidade:e,estado:d},url:url("cidades",null,"localizacao"),success:function(f){a.html(f)},complete:function(){b.attr("disabled",false);a.attr("disabled",false);if(c){a.focus()}},beforeSend:function(){b.attr("disabled",true);a.attr("disabled",true)},error:function(){_log("Não foi possível buscar as Cidades.");a.html($('<option value="" >Error!</option>'))}}))}else{a.html('<option value="" >-- Selecione o estado --</option>')}},100)}).change()}}function apply_masks(a){a=$(a);if(typeof mask2=="function"){mask2(a.find("input.mask-valor"),"[###.]###,##");a.find("input.mask-valor").focus(function(){var c=$(this);c.select();setTimeout(function(){c.select()},150)})}if($.mask){var b="(0[1-9]|[1-2][0-9]|3[0-1])\\/(0[1-9]|1[0-2])\\/[0-9]{4}";a.find("input[type=text][class*=mask-], input[type=date]").filter(":not(.text-left):not(.text-right)").addClass("text-center");a.find("input.mask-urlamigavel").change(function(){this.value=this.value.toLowerCase().rmAcentos("-")});a.find("input.mask-credcard").mask("9999 9999 9999 9999");a.find("input.mask-credcard-validate").mask("99/9999");a.find("input.mask-numero").mask("[0-9]+");a.find("input[type=text].mask-data").attr("pattern",b).mask("99/99/9999");a.find("input[type=text].mask-datatime").attr("pattern",b+" [0-9]{2}:[0-9]{2}:[0-9]{2}").mask("99/99/9999 99:99:99");a.find("input[type=text].mask-hora").attr("pattern","[0-9]{2}:[0-9]{2}:[0-9]{2}").mask("99:99:99");a.find("input[type=text].mask-cep").attr("pattern","[0-9]{5}\\-[0-9]{3}").mask("99999-999");a.find("input[type=text].mask-cpf").attr("pattern","[0-9]{3}\\.[0-9]{3}\\.[0-9]{3}\\-[0-9]{2}").mask("999.999.999-99");a.find("input[type=text].mask-cnpj").attr("pattern","[0-9]{2}\\.[0-9]{3}\\.[0-9]{3}\\/[0-9]{4}\\-[0-9]{2}").mask("99.999.999/9999-99");a.find("input.mask-telefone").mask("(99) 9999-9999?9").on("keyup",function(){var e=$(this).val();e=e.replace(/[^0-9]/g,"");var g=e.slice(0,2);var d=new RegExp("0[0-9]00");var c=d.exec(e.slice(0,4));var f=e[2];if(e.length===11&&f==="9"){$(this).unmask();$(this).val(e);$(this).mask("(99) 99999-999?9")}else{if(c&&(e.length===11||e.length===10)){$(this).unmask();$(this).val(e);$(this).mask("9999-999999?9")}else{if(e.length===10&&f==="9"){$(this).unmask();$(this).val(e);$(this).mask("(99) 9999-9999?9")}else{if(e.length===10){$(this).unmask();$(this).val(e);$(this).mask("(99) 9999-9999")}}}}}).keyup()}a.find("input[type=text].mask-cep").keyup(function(){var c=$(this);var d=$(c.context.form);var e=new RegExp("^[0-9]{5}-[0-9]{3}$");if(c.data("ajaxViaCep")){c.data("ajaxViaCep").abort()}if(e.test(c.val().toString())){c.data("ajaxViaCep",$.get(url("logradouro/cep",[c.val()],"localizacao"),function(f){if(f.result==1){d.find("[name=rua],[name=endereco],[name=logradouro],.end-logradouro").val(f.logradouro);d.find("[name=bairro], .end-bairro").val(f.bairro);d.find("select[name=cidade], select.end-cidade").attr("data-setvalue",$.isPlainObject(f.cidade)?f.cidade.id:f.cidade);d.find("input[name=cidade], input.end-cidade").val($.isPlainObject(f.cidade)?f.cidade.cidade:f.cidade);d.find("input[name=uf], input.end-uf").val(f.uf);d.find("input[name=estado], input.end-estado").val($.isPlainObject(f.estado)?f.estado.estado:f.estado);d.find("select[name=estado],select[name=uf], select.end-estado").find("option").filter(function(){if(f.uf==$(this).text()){return true}else{if($.isPlainObject(f.estado)&&f.estado.id==this.value){return true}else{return false}}}).attr("selected",true).change();if(d.find("[name=latitude], .end-latitude").length>0&&typeof GMaps!="undefined"){GMaps.geocode({address:f.logradouro+", "+f.bairro+", "+(f.cidade.cidade||f.cidade)+"/"+f.uf+", Brasil",callback:function(h,g){if(g=="OK"){var i=h[0].geometry.location;d.find("[name=latitude], input.end-latitude").val(i.lat()).change();d.find("[name=longitude], input.end-longitude").val(i.lng()).change();d.find("[name=zoom], input.end-zoom").val(17).change()}}})}}},"json"))}})}(function(a){a(".btn-scroll-top").click(function(){a("html, body").animate({scrollTop:0},"slow");return false});a(window).scroll(function(){if(this.scrollY>200){a(".btn-scroll-top").css("display","block")}else{a(".btn-scroll-top").css("display","none")}}).scroll().load(function(){a(this).scroll()})})(jQuery);(function(a){a("form .change-submit").change(function(){a(this).parents("form").submit()});a("[data-toggle-class]").click(function(){var b=a(this).attr("data-toggle-class").toString().split(",");a(b[0]).toggleClass(b[1])});a(document).on("mouseenter","[data-animated-in]",function(){animated(this,a(this).attr("data-animated-in"))});a(document).on("mouseleave","[data-animated-out]",function(){animated(this,a(this).attr("data-animated-out"))});if(Modernizr){if(!Modernizr.inputtypes.date){a("input[type=date]").attr("type","text").addClass("mask-data")}if(!Modernizr.input.placeholder){_log("Faça alguma coisa quanto a isso!","Resolva o problema!")}}a("form").find("select[name=estado], select[name=uf], select.estados[data-target]").each(function(){if(a(this).attr("data-target")){estadosCidades(this,a(this).attr("data-target"))}else{estadosCidades(this)}});apply_masks(document);a.fn.resetForm=function(){var b=a(this);b.find("input,textarea").filter(":not([type=radio]):not([type=checkbox])").val("").change().filter(".has-ckeditor").each(function(){a(this).data("ckeditor").setData("")});b.find("[type=checkbox], [type=radio]").filter(":checked").prop("checked",false).change();b.find("select option").prop({selected:false,checked:false});b.trigger("resetForm").find("select").trigger("chosen:updated");return this};a("[type=checkbox]").change(function(){if(!a(this).prop("checked")){a('[type=checkbox][value="*"][name="'+a(this).attr("name")+'"]').prop("checked",false)}}).filter('[value="*"]').change(function(){if(a(this).prop("checked")){a('[type=checkbox][name="'+a(this).attr("name")+'"]:not([value="*"])').prop("checked",true)}});a.fn.setValues=function(c,f){if(typeof f=="undefined"){f=true}var d=this;var b;d.resetForm();if(!a.isPlainObject(c)){try{c=a.parseJSON(c)}catch(g){return d}}a.each(c,function(e,h){if(a.isArray(h)){a.each(h,function(i,j){d.find("[name='"+e+"[]']").filter(function(){if(a(this).prop("value")==j){return true}else{return false}}).filter("[type=checkbox], [type=radio]").prop("checked",true).change();d.find("select[name='"+e+"'][multiple] option").filter(function(){if(a(this).prop("value")==j){return true}else{return false}}).prop({selected:true,checked:true})});d.find('[name="'+e+'[]"]').each(function(i){if(typeof h[i]!="undefined"){a(this).filter(":not([type=checkbox]):not([type=radio])").prop("value",h[i]);a(this).filter("[type=checkbox], [type=radio]").filter(function(){if(a(this).prop("value")==h[i]){return true}else{return false}}).prop("checked",true);a(this).change().attr("data-setvalue",h).change().filter(".has-ckeditor").each(function(){a(this).data("ckeditor").setData(h[i])})}})}else{if(a.isPlainObject(h)){d.find('input[name="'+e+'"]').val(a.param(h))}else{b=d.find("[name='"+e+"'], [data-name='"+e+"']").filter(":not([type=radio]):not([type=checkbox])");b.prop("value",h).attr("data-setvalue",h).change();if(h){if(Modernizr.inputtypes.date){b.filter("[type=date]").prop("value",h.toString().split("/").reverse().join("-"))}else{b.filter("[type=date]").prop("value",h.toString().split("-").reverse().join("/"))}}b.filter(".has-ckeditor").each(function(){var i=a(this);setTimeout(function(){i.data("ckeditor").setData(h)},50)});d.find("[name='"+e+"'], [data-name='"+e+"']").filter("[type=radio], [type=checkbox]").filter(function(){if(a(this).prop("value")==h){return true}else{return false}}).prop("checked",true).change()}}});d.filter(".modal").addClass("has-modal").modal("show");d.find(".modal").modal("show").parents("form").addClass("has-modal");if(!d.hasClass("modal")){d.scrollTo()}d.find(".mask-valor").filter(function(){if(this.value=="0,00"){return true}else{return false}}).val("");d.trigger("setValues",[c]);d.find("select").trigger("chosen:updated");return d};a.fn.scrollTo=function(){a("body, html",document).animate({scrollTop:(a(this).offset()?a(this).offset().top:0)-10},"fast");return this};a.fn.getValues=function(){var b=a(this).serializeObject();a(this).find(":not([name])[data-name]").each(function(){var c=a(this).attr("data-name");if(typeof b[c]=="undefined"){b[c]=a(this).val()}});a(this).find("select[name][multiple]").each(function(){var c=a(this).attr("name");b[c]="";a(this).find("option[value]:selected").each(function(){b[c]+="["+a(this).attr("value")+"]"})});a(this).find("textarea[name].has-ckeditor").each(function(){b[a(this).attr("name")]=a(this).data("ckeditor").getData()});a(this).trigger("getValues",[b]);return b};a("form[data-values]").each(function(){var c=a(this);try{var b=a.parseJSON(c.attr("data-values"));c.setValues(b,false)}catch(d){_log("Não foi possível decodificar",c.attr("data-values"),d)}});a("form").find("[type=reset]").click(function(){a(this).parents("form:first").resetForm();return false});a.fn.adminPage=function(c){var d=this;d.addClass("adminpage");d.config=a.extend({form:this.is("form")?this:"<form />",formSearch:"<form />",controller:CONTROLLER,insertAction:"insert",updateAction:"update",deleteAction:"excluir",selectAction:"list",statusAction:"status",visibleAction:"visible",container:undefined,autoReset:true,autoSearch:true,autoEnable:true,autoScroll:true,alertSuccess:false,reloadSuccess:false,errorAlert:true,searchValues:{page:1},insertValues:{},updateValues:{},saveValues:{},},c);d.config.form=a(d.config.form);if(!d.config.container){d.container=a("<div />").insertAfter(d.config.form)}else{d.container=a(d.config.container)}d.container.addClass("adminpage-container");this.config.form.submit(function(){try{var g=a(this);var j=null;var f=a.extend(g.getValues(),d.config.saveValues||{});var h=(g.attr("action")?g.attr("action"):url(d.config.controller))+"/";if(typeof f.id!="undefined"&&f.id>0){if(d.config.updateAction.indexOf("http")!=-1){h=d.config.updateAction}else{h+=d.config.updateAction}j="update";f=a.extend(f,d.config.updateValues||{})}else{if(d.config.insertAction.indexOf("http")!=-1){h=d.config.insertAction}else{h+=d.config.insertAction}j="insert";f=a.extend(f,d.insertValues||{})}if(g.data("status")===true){g.on("addValues",function(k,e){a.each(e,function(l,m){f[l]=m})});if(g.triggerHandler("beforeSubmit",[f])===false){return false}a.each(f,function(e,k){if(a.isArray(k)){f[e+"_array[]"]=k;f[e]=JSON.stringify(k)}});g.ajaxSubmit({url:h,forceSync:true,data:f,type:"POST",dataType:"json",clearForm:false,resetForm:false,success:function(k){_log("Success!",k);if(typeof k.result!=="undefined"){if(k.result==1){if(d.config.autoReset){g.resetForm();g.filter(".modal").modal("hide");g.find(".modal").modal("hide")}else{g.find("input[type=file]").prop("value","")}if(d.config.autoSearch){d.reloadSearch()}if(d.config.alertSuccess){alert(k.message)}if(d.config.reloadSuccess==1){window.location.reload()}else{if(d.config.reloadSuccess.toString().search("http")!=-1){window.location.href=d.config.reloadSuccess}}}else{if(d.config.errorAlert){alert(k.message||"Não foi possível concluir!")}}}d.trigger("success",[k]);if(j=="update"){d.trigger("updateSuccess",[k])}else{d.trigger("insertSuccess",[k])}},complete:function(k){g.removeClass("adminpage-loading form-loading");g.data("status",true);d.trigger("complete",[k])},beforeSubmit:function(){_log("Submit: "+h);g.addClass("adminpage-loading form-loading");g.data("status",false)},error:function(k){_log("Não foi possível concluir o envio!",k.responseText);g.trigger("error",[k])},uploadProgress:function(m,e,l,k){_log("Progress:","Position: "+e,"Total: "+l,"PercentComplete: "+k);d.trigger("progress",[e,l,k])}})}}catch(i){_log("Falha desconhecida em `this.config.form.submit`",i)}return false}).data("status",true);d.container.on("click","[data-page]",function(){d.searchValues.page=a(this).attr("data-page")||1;d.search(d.searchValues);return false});d.reloadSearch=function(e){d.search(d.searchValues,e)};a(d.config.formSearch).submit(function(){d.search(a(this).getValues());return false}).attr({onsubmit:"javascript: return false;",});d.search=function(f,e){var g=d.config.selectAction.indexOf("http")!=-1?d.config.selectAction:url(d.config.controller+"/"+d.config.selectAction);e=typeof e=="undefined"?true:e;if(d.data("searchingAjax")){d.data("searchingAjax").abort()}d.container.addClass("adminpage-container-loading");d.searchValues=a.extend({},d.config.searchValues,f||{});d.data("searchingAjax",a.ajax({type:"POST",data:d.searchValues,url:g,dataType:"html",datatype:"html",success:function(i){try{var h=a.parseJSON(i);d.container.html(h.html);i=h}catch(j){d.container.html(i)}apply_masks(d.container);d.trigger("searchSuccess",i);d.container.find("table.sortable").each(function(){a(this).sortable({items:"tbody tr[data-id]",update:function(n,o){var k={id:"",ordem:""};var m=d.container.find("table.sortable tbody tr[data-id]");var l=0;m.filter("[data-ordem]").each(function(){l=Math.min(l,parseInt(a(this).attr("data-ordem")||1))});l=Math.max(1,l);m.each(function(p){k.id+=a(this).attr("data-id")+",";k.ordem+=l+",";l++});k.id=k.id.replace(/,$/,"");k.ordem=k.ordem.replace(/,$/,"");a.ajax({url:url(d.config.controller+"/sortable"),type:"POST",dataType:"html",data:k,complete:function(){_log("Sortable complete!")}})}});a(this).disableSelection()});if(e){d.container.scrollTo()}d.container.find('[data-toggle="tooltip"]').tooltip();setTimeout(function(){a(window).resize()},100)},complete:function(h){d.container.removeClass("adminpage-container-loading");d.trigger("searchComplete",[h])},error:function(h){d.trigger("searchError",[h])}}))};if(d.config.autoSearch){d.search(undefined,false)}d.on("search",function(f,e){if(a.isPlainObject(e)){d.search(e)}else{d.search()}});d.container.on("click","[data-status]",function(){b(this,a(this).attr("data-status"),d.config.statusAction)});function b(e,g,f){e=a(e);if(e.data("ajaxStatus")){e.data("ajaxStatus").abort()}e.filter(".fa").toggleClass("fa-eye fa-eye-slash");e.children(".fa").filter(".fa-eye, .fa-eye-slash").toggleClass("fa-eye fa-eye-slash");e.data("ajaxStatus",a.ajax({url:url(d.config.controller+"/"+f),data:{id:g},type:"POST",dataType:"HTML",success:function(j){if(j!=""){try{var i=a.parseJSON(j);if(i.result!=1&&d.config.errorAlert){alert(i.message||"Não foi possível alterar o status.");d.reloadSearch()}}catch(h){d.reloadSearch()}}else{d.reloadSearch()()}}}))}d.container.on("click","[data-visible]",function(){b(this,a(this).attr("data-visible"),d.config.visibleAction)});d.container.on("click","[data-editar]",function(){d.config.form.setValues(a(this).attr("data-editar"))});d.container.on("click","[data-excluir]",function(){var e=d.config.deleteAction.indexOf("http")!=-1?d.config.deleteAction:url(d.config.controller+"/"+d.config.deleteAction);if(confirm("Deseja excluir o registro?")){a.post(e,{id:a(this).attr("data-excluir")},function(f){try{f=a.parseJSON(f);if(f.result==1){d.reloadSearch(false)}else{alert(f.message)}}catch(f){d.reloadSearch(false)}},"html").fail(function(f){d.reloadSearch()})}});this.data("adminPage",d);return d};a("form[data-adminpage]").each(function(){var b=a(this).attr("data-adminpage");try{a(this).adminPage(a.parseJSON(b))}catch(c){a(this).adminPage({})}});FastClick.attach(document.body)})(jQuery);(function(){if(typeof CKEDITOR!="undefined"){$.fn.loadCkeditor=function(b){if(this.length==1){var a=$(this);var d=a.attr("data-ckeditor");var e=this.attr("id")||"ckeditor"+Math.floor(Math.random()*99999);this.attr("id",e).addClass("has-ckeditor");var c;if(!b){if(d=="simples"){c=CKEDITOR.replace(e,{language:"pt-br",height:a.attr("height")||200,toolbar:[{name:"basicstyles",groups:["basicstyles","cleanup"],items:["Bold","Italic","Underline","Strike","-","RemoveFormat"]},{name:"links",items:["Link","Unlink"]},{name:"styles",items:["Font","FontSize"]},{name:"colors",items:["TextColor","BGColor"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"],items:["NumberedList","BulletedList","-","Outdent","Indent","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]},{name:"insert",items:["Image","Table","HorizontalRule","SpecialChar"]},]})}else{c=CKEDITOR.replace(e,{language:"pt-br",height:a.attr("height")||200,contentsCss:["https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css","https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css",],toolbar:[{name:"document",groups:["mode","document","doctools"],items:["Source"]},{name:"clipboard",groups:["clipboard","undo"],items:["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"]},{name:"editing",groups:["find","selection","spellchecker"],items:["Find","Replace","-","SelectAll","-","Scayt"]},{name:"basicstyles",groups:["basicstyles","cleanup"],items:["Bold","Italic","Underline","Strike","Subscript","Superscript","-","RemoveFormat"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"],items:["NumberedList","BulletedList","-","Outdent","Indent","-","Blockquote","CreateDiv","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-","BidiLtr","BidiRtl"]},{name:"links",items:["Link","Unlink","Anchor"]},{name:"insert",items:["Image","Table","HorizontalRule","Smiley","SpecialChar","PageBreak","Iframe"]},{name:"styles",items:["Format","Font","FontSize"]},{name:"colors",items:["TextColor","BGColor"]},{name:"tools",items:["Maximize","ShowBlocks"]},{name:"others",items:["-"]},]})}}else{c=CKEDITOR.replace(e,b)}this.data("ckeditor",c);setTimeout(function(){$(window).resize()},200)}else{this.each(function(){$(this).loadCkeditor(b)})}return this};$("textarea[data-ckeditor]").loadCkeditor()}$("form button[data-marker], form .btn-marker").each(function(){var a=$(this);var b=a.parents("form:first");a.click(function(){var c=$.param({latitude:b.find("[name=latitude], .end-latitude").first().prop("value")||0,longitude:b.find("[name=longitude], .end-longitude").first().prop("value")||0,zoom:b.find("[name=zoom], .end-zoom").first().prop("value")||0,});var d=modalIframe("Geolocalização",url("mapa")+"?"+c);d.on("close",function(){var e=d.find("iframe")[0].contentWindow.getPosition;if(typeof e!="undefined"&&$.isFunction(e)){e=e();b.find("[name=latitude], .end-latitude").prop("value",e.latitude).change();b.find("[name=longitude], .end-longitude").prop("value",e.longitude).change();b.find("[name=zoom], .end-zoom").prop("value",e.zoom).change()}})})})})(jQuery);function modalIframe(d,c){var a=jQuery('<div class="modal fade" style="z-index: 99999;" ><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">'+(d||"Imagens")+'</h4></div><div class="modal-body"><div class="iframe" ><iframe style="height: 450px; width: 100%; border: none; display: block; margin: 0;" ></iframe></div></div></div></div></div>');var b=a.find(".iframe iframe");b.on("close",function(){a.trigger("close",[b])});a.on("hide.bs.modal",function(){a.trigger("close",[b]);b.trigger("close")});a.on("shown.bs.modal",function(){b.prop("src",c).load(function(){$(this).contents().find(".btn-close").click(function(){a.modal("hide")})})});a.on("hidden.bs.modal",function(){b.unload();a.trigger("closed",[b]);setTimeout(function(){a.remove()},500)});a.modal("show");jQuery("body").prepend(a);return a}function galeria(b,a,c){return modalIframe(c||"Imagens",url("imagens/iframe")+"?"+$.param({ref:b,refid:a,title:c}))}function sendNotification(c,a,b){if(Notification.permission==="granted"){return new Notification(c,{icon:b,body:a,})}else{Notification.requestPermission(function(d){if(d=="granted"){return sendNotification(c,a,b)}})}}$(document).on("change",".btn-inputfile input",function(){var b=$(this);var a=b.parents(".btn-inputfile");if(this.files.length==1){a.find("span span").html(this.files[0].name.toString().replace(/^.*(\/|\\)/,""))}else{if(this.files.length>1){a.find("span span").html(this.files.length+" Arquivos")}else{a.find("span span").html("")}}});$(document).on("change","input[type=file]",function(){var b=1*1024*1024;var a=$(this);$.each(this.files,function(c,d){if(d.type=="application/x-zip-compressed"){if(d.size>b*5){alert("Selecione arquivo (zip, rar) de no máximo 5MB.");a.prop("value","").change()}}else{if(d.type=="application/pdf"){if(d.size>b*2){alert("Selecione arquivo (pdf) de no máximo 2MB.");a.prop("value","").change()}}else{if(d.size>b){alert("Selecione arquivos de no máximo 1MB.");a.prop("value","").change()}}}})});if(typeof Clipboard!="undefined"){var clipboard=new Clipboard("[data-clipboard-text]");clipboard.on("success",function(a){alert("URL copiada com sucesso.");a.clearSelection()});clipboard.on("error",function(a){alert("Não foi possível copiar a URL.")})};